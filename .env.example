# =============================================
# PREPIQ BACKEND ENVIRONMENT CONFIGURATION
# =============================================
# 
# This file contains all backend environment variables for the PrepIQ application.
# Copy this file to .env and fill in your actual values.
#
# WARNING: Never commit the actual .env file to version control!

# =============================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================
# Supabase PostgreSQL connection string
# Format: postgresql://postgres:[PASSWORD]@[HOST]:[PORT]/postgres
# 
# For production with connection pooler (recommended):
# Use port 6543 and add ?pgbouncer=true
# DATABASE_URL=postgresql://postgres:[PASSWORD]@[PROJECT_ID].supabase.co:6543/postgres?pgbouncer=true
#
# For migrations (direct connection):
# Use port 5432
# DATABASE_URL=postgresql://postgres:[PASSWORD]@[PROJECT_ID].supabase.co:5432/postgres

DATABASE_URL=postgresql://postgres:your-password-here@your-project.supabase.co:6543/postgres?pgbouncer=true

# =============================================
# SUPABASE CONFIGURATION (REQUIRED)
# =============================================
# Get these from your Supabase project dashboard:
# Project Settings → API → Project URL and service_role key

# Supabase project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase Service Role Key (⚠️ NEVER expose this to frontend - server-side only!)
SUPABASE_SERVICE_KEY=your-service-role-key-here

# Supabase Anon Key (for reference - frontend uses this)
SUPABASE_ANON_KEY=your-anon-key-here

# =============================================
# JWT CONFIGURATION (REQUIRED)
# =============================================
# Secret key for JWT token generation
# Generate a secure random key: openssl rand -base64 32
JWT_SECRET=your-jwt-secret-key-here-minimum-32-characters-long
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours

# =============================================
# SECURITY SETTINGS (REQUIRED FOR PRODUCTION)
# =============================================
# CORS Origins - comma-separated list of allowed frontend URLs
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,https://yourdomain.com

# Environment (development, staging, production)
ENVIRONMENT=development

# =============================================
# AI API KEYS (REQUIRED FOR AI FEATURES)
# =============================================
# Google Gemini API key for AI features
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# Optional: OpenAI API key (if using OpenAI instead of Gemini)
# OPENAI_API_KEY=your-openai-api-key-here

# =============================================
# FILE UPLOAD SETTINGS (OPTIONAL)
# =============================================
# Directory for temporary file storage (before uploading to Supabase Storage)
UPLOAD_DIR=uploads/
MAX_FILE_SIZE=10485760  # 10MB in bytes
ALLOWED_FILE_TYPES=pdf,docx,txt

# =============================================
# REDIS CONFIGURATION (OPTIONAL - for caching)
# =============================================
# Redis URL for caching and session management
# REDIS_URL=redis://localhost:6379

# =============================================
# EMAIL SETTINGS (OPTIONAL - for email notifications)
# =============================================
# SMTP configuration for sending emails
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password

# =============================================
# MONITORING & LOGGING (OPTIONAL)
# =============================================
# Log level: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn-here

# =============================================
# FEATURE FLAGS (OPTIONAL)
# =============================================
# Enable/disable specific features
ENABLE_ML_PREDICTIONS=true
ENABLE_CHATBOT=true
ENABLE_ANALYTICS=true
